<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https://api.kitchenhelper-ai.de; frame-ancestors 'none'; base-uri 'self'; form-action 'self';">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <title data-i18n="imprint.title">Impressum</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/main.css">
    <style>
        .impressum-container {
            max-width: 800px;
            margin: 50px auto;
            padding: 40px;
            background: var(--bg-light);
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .impressum-container h1 {
            color: var(--primary);
            margin-bottom: 30px;
            font-size: 32px;
        }
        .impressum-container h2 {
            color: var(--text);
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 24px;
        }
        .impressum-container h3 {
            color: var(--text);
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 18px;
        }
        .impressum-container p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: var(--text-secondary);
        }
        .impressum-container strong {
            color: var(--text);
        }
        .impressum-container a {
            color: var(--primary);
            text-decoration: none;
        }
        .impressum-container a:hover {
            text-decoration: underline;
        }
        .back-btn {
            display: inline-block;
            margin-bottom: 20px;
            padding: 14px 28px;
            background: #2196F3;
            color: white;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s;
            font-weight: 700;
            font-size: 16px;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);
            border: 2px solid #1976D2;
        }
        .back-btn:hover {
            background: #1976D2;
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.6);
            transform: translateY(-2px);
            border-color: #0D47A1;
        }
        .powered-by {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid var(--border);
        }
        .tech-list {
            list-style: none;
            padding: 0;
        }
        .tech-list li {
            padding: 8px 0;
            color: var(--text-secondary);
        }
        .tech-list a {
            color: var(--primary);
        }
        .disclaimer-box {
            background: var(--warning-bg, #fff3cd);
            border: 1px solid var(--warning-border, #ffc107);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .disclaimer-box h3 {
            margin-top: 0;
            color: var(--warning-text, #856404);
        }
        .disclaimer-box p {
            color: var(--warning-text, #856404);
            margin-bottom: 0;
        }

        /* Language & Theme Dropdowns */
        .lang-menu, .theme-menu {
            position: relative;
        }

        .lang-toggle, .theme-toggle {
            background: var(--white, #fff);
            border: 2px solid var(--primary, #4CAF50);
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .lang-toggle:hover, .theme-toggle:hover {
            background: var(--primary, #4CAF50);
            color: white;
            transform: scale(1.05);
        }

        .lang-dropdown, .theme-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            background: var(--white, #fff);
            border-radius: 12px;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
            padding: 8px;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
            min-width: 180px;
        }

        .lang-dropdown.show, .theme-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .lang-option, .theme-option {
            width: 100%;
            padding: 10px 14px;
            background: transparent;
            border: none;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            font-size: 0.95rem;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .lang-option:hover, .theme-option:hover {
            background: var(--bg-gray, #f5f5f5);
        }

        .theme-dropdown-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 4px;
        }
    </style>
</head>
<body>
    <!-- Header Actions (Top Right) -->
    <div style="position: fixed; top: 20px; right: 20px; display: flex; gap: 8px; align-items: center; z-index: 1000;">
        <!-- Language Dropdown (only DE + EN) -->
        <div class="lang-menu">
            <button class="lang-toggle" onclick="i18n.toggleDropdown(event)" title="Sprache / Language">
                <span class="lang-icon">üåç</span>
                <span class="lang-toggle-text">DE</span>
            </button>

            <div class="lang-dropdown" id="lang-dropdown">
                <button class="lang-option" onclick="i18n.setLanguage('de')">üá©üá™ Deutsch</button>
                <button class="lang-option" onclick="i18n.setLanguage('en')">üá¨üáß English</button>
            </div>
        </div>

        <!-- Theme Dropdown -->
        <div class="theme-menu">
            <button class="theme-toggle" onclick="ThemeMenu.toggle(event)" aria-label="Farbschema w√§hlen" title="Farbschema">
                <span class="theme-icon">üåô</span>
            </button>

            <div class="theme-dropdown" id="theme-dropdown">
                <div class="theme-dropdown-grid">
                    <!-- Light Modes -->
                    <button class="theme-dot-btn" data-theme="light" onclick="ThemeMenu.setTheme('light')" title="Hell">
                        <span style="font-size: 14px; margin-right: 4px;">üåû</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #4CAF50"></div>
                            <div class="theme-dot" style="background: #2196F3"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="sepia" onclick="ThemeMenu.setTheme('sepia')" title="Sepia">
                        <span style="font-size: 14px; margin-right: 4px;">üìú</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #8B7355"></div>
                            <div class="theme-dot" style="background: #7B8B8E"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="ocean-light" onclick="ThemeMenu.setTheme('ocean-light')" title="Ozean Hell">
                        <span style="font-size: 14px; margin-right: 4px;">üåä</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #0891B2"></div>
                            <div class="theme-dot" style="background: #3B82F6"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="forest-light" onclick="ThemeMenu.setTheme('forest-light')" title="Wald Hell">
                        <span style="font-size: 14px; margin-right: 4px;">üå≤</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #059669"></div>
                            <div class="theme-dot" style="background: #16A34A"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="sunset-light" onclick="ThemeMenu.setTheme('sunset-light')" title="Sonnenuntergang Hell">
                        <span style="font-size: 14px; margin-right: 4px;">üåÖ</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #F97316"></div>
                            <div class="theme-dot" style="background: #EC4899"></div>
                        </div>
                    </button>

                    <!-- Dark Modes -->
                    <button class="theme-dot-btn" data-theme="dark" onclick="ThemeMenu.setTheme('dark')" title="Dunkel">
                        <span style="font-size: 14px; margin-right: 4px;">üåô</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #66BB6A"></div>
                            <div class="theme-dot" style="background: #42A5F5"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="nord" onclick="ThemeMenu.setTheme('nord')" title="Nord">
                        <span style="font-size: 14px; margin-right: 4px;">‚ùÑÔ∏è</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #88C0D0"></div>
                            <div class="theme-dot" style="background: #81A1C1"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="solarized" onclick="ThemeMenu.setTheme('solarized')" title="Solarized">
                        <span style="font-size: 14px; margin-right: 4px;">üåÉ</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #268BD2"></div>
                            <div class="theme-dot" style="background: #2AA198"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="dracula" onclick="ThemeMenu.setTheme('dracula')" title="Dracula">
                        <span style="font-size: 14px; margin-right: 4px;">üßõ</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #BD93F9"></div>
                            <div class="theme-dot" style="background: #8BE9FD"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="ocean-dark" onclick="ThemeMenu.setTheme('ocean-dark')" title="Ozean Dunkel">
                        <span style="font-size: 14px; margin-right: 4px;">üåä</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #06B6D4"></div>
                            <div class="theme-dot" style="background: #60A5FA"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="forest-dark" onclick="ThemeMenu.setTheme('forest-dark')" title="Wald Dunkel">
                        <span style="font-size: 14px; margin-right: 4px;">üå≤</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #10B981"></div>
                            <div class="theme-dot" style="background: #22C55E"></div>
                        </div>
                    </button>
                    <button class="theme-dot-btn" data-theme="sunset-dark" onclick="ThemeMenu.setTheme('sunset-dark')" title="Sonnenuntergang Dunkel">
                        <span style="font-size: 14px; margin-right: 4px;">üåÜ</span>
                        <div class="theme-dot-double">
                            <div class="theme-dot" style="background: #FB923C"></div>
                            <div class="theme-dot" style="background: #F472B6"></div>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="impressum-container">
        <a href="landing.html" class="back-btn">
            ‚Üê <span data-i18n="imprint.back">Zur√ºck zur Startseite</span>
        </a>

        <h1 data-i18n="imprint.title">Impressum</h1>

        <h2 data-i18n="imprint.tmg_heading">Angaben gem√§√ü ¬ß 5 TMG</h2>
        <p>
            <strong>Melucio-Labs</strong><br>
            David Vaupel<br>
            Hamburger Chaussee 30<br>
            14641 Nauen<br>
            Deutschland
        </p>

        <h2 data-i18n="imprint.contact_heading">Kontakt</h2>
        <p>
            <strong data-i18n="imprint.email">E-Mail</strong>: <a href="mailto:info@kitchenhelper-ai.de">info@kitchenhelper-ai.de</a>
        </p>

        <h2 data-i18n="imprint.responsible_heading">Verantwortlich f√ºr den Inhalt</h2>
        <p>
            David Vaupel<br>
            <span data-i18n="imprint.responsible_text">Anschrift wie oben</span>
        </p>

        <h3>Ideengebung & Konzept</h3>
        <p>
            Katja Schulz<br>
            <em>Besonderer Dank f√ºr die kreativen Impulse und Ideen zur Weiterentwicklung</em>
        </p>

        <!-- AI Disclaimer Box -->
        <div class="disclaimer-box">
            <h3 data-i18n="imprint.ai_disclaimer_heading">‚ö†Ô∏è KI-generierte Rezepte</h3>
            <p data-i18n="imprint.ai_disclaimer_text">
                Die von dieser Anwendung generierten Rezepte werden durch k√ºnstliche Intelligenz erstellt.
                Bitte pr√ºfen Sie Rezepte kritisch und nutzen Sie Ihr eigenes Urteilsverm√∂gen bez√ºglich
                Zutaten-Kombinationen, Mengen und Zubereitungsmethoden. Wir √ºbernehmen keine Haftung f√ºr
                die Qualit√§t oder Eignung der generierten Rezepte.
            </p>
        </div>

        <h2 data-i18n="imprint.disclaimer_heading">Haftungsausschluss</h2>

        <h3 data-i18n="imprint.content_liability_heading">Haftung f√ºr Inhalte</h3>
        <p data-i18n="imprint.content_liability_text">
            Die Inhalte unserer Seiten wurden mit gr√∂√üter Sorgfalt erstellt. F√ºr die Richtigkeit,
            Vollst√§ndigkeit und Aktualit√§t der Inhalte k√∂nnen wir jedoch keine Gew√§hr √ºbernehmen.
            Als Diensteanbieter sind wir gem√§√ü ¬ß 7 Abs.1 TMG f√ºr eigene Inhalte auf diesen Seiten
            nach den allgemeinen Gesetzen verantwortlich.
        </p>

        <h3 data-i18n="imprint.links_liability_heading">Haftung f√ºr Links</h3>
        <p data-i18n="imprint.links_liability_text">
            Unser Angebot enth√§lt Links zu externen Webseiten Dritter, auf deren Inhalte wir keinen
            Einfluss haben. Deshalb k√∂nnen wir f√ºr diese fremden Inhalte auch keine Gew√§hr √ºbernehmen.
            F√ºr die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber
            der Seiten verantwortlich.
        </p>

        <h2 data-i18n="imprint.privacy_heading">Datenschutz</h2>
        <p data-i18n="imprint.privacy_text1">
            Die Nutzung unserer Webseite ist in der Regel ohne Angabe personenbezogener Daten m√∂glich.
            Soweit auf unseren Seiten personenbezogene Daten (beispielsweise Name, Anschrift oder
            E-Mail-Adressen) erhoben werden, erfolgt dies stets auf freiwilliger Basis.
        </p>
        <p>
            <strong data-i18n="imprint.privacy_important">Wichtig</strong>:
            <span data-i18n="imprint.privacy_text2">
                Wir verwenden lokale Verschl√ºsselung f√ºr Ihre Daten. Im Free-Modus werden Daten serverseitig
                verschl√ºsselt (SSE). Im Pro-Modus nutzen wir End-to-End-Verschl√ºsselung (E2EE), sodass nur
                Sie Zugriff auf Ihre Rezepte und Pr√§ferenzen haben.
            </span>
        </p>
        <p>
            <span data-i18n="imprint.privacy_text3">Eine ausf√ºhrliche Datenschutzerkl√§rung finden Sie in der Dokumentation:</span>
            <a href="docs/DATA-ENCRYPTION.md" target="_blank">DATA-ENCRYPTION.md</a>
        </p>

        <div class="powered-by">
            <h3>üîß <span data-i18n="imprint.powered_heading">Powered by Open Source</span></h3>
            <p data-i18n="imprint.powered_text">Diese Anwendung nutzt folgende Open-Source-Technologien:</p>
            <ul class="tech-list">
                <li>
                    <strong>Ollama</strong> -
                    <span data-i18n="imprint.powered_ollama">Lokale AI-Inferenz</span>
                    (<a href="https://ollama.ai" target="_blank">ollama.ai</a>)
                </li>
                <li>
                    <strong>FastAPI</strong> -
                    <span data-i18n="imprint.powered_fastapi">Modern Web Framework</span>
                    (<a href="https://fastapi.tiangolo.com" target="_blank">fastapi.tiangolo.com</a>)
                </li>
                <li>
                    <strong>SQLAlchemy</strong> -
                    <span data-i18n="imprint.powered_sqlalchemy">SQL Toolkit</span>
                    (<a href="https://www.sqlalchemy.org" target="_blank">sqlalchemy.org</a>)
                </li>
                <li>
                    <strong>Open Food Facts</strong> -
                    <span data-i18n="imprint.powered_openfoodfacts">Produktdatenbank</span>
                    (<a href="https://world.openfoodfacts.org" target="_blank">openfoodfacts.org</a>)
                </li>
            </ul>
            <p style="margin-top: 15px; font-size: 14px;" data-i18n="imprint.powered_thanks">
                Vielen Dank an alle Contributors dieser Projekte! üíö
            </p>
        </div>

        <p style="margin-top: 40px; text-align: center; color: var(--text-secondary); font-size: 14px;">
            ¬© 2025 Melucio-Labs ¬∑ KitchenHelper-AI ¬∑ <span data-i18n="imprint.copyright">Alle Rechte vorbehalten</span>
        </p>
    </div>

    <!-- i18n System -->
    <script src="js/i18n.js"></script>
    <script>
        // ==================== THEME MENU ====================
        const ThemeMenu = {
            init() {
                const savedTheme = localStorage.getItem('colorTheme') || 'light';
                this.setTheme(savedTheme);
            },

            toggle(event) {
                event.stopPropagation();
                const dropdown = document.getElementById('theme-dropdown');
                dropdown.classList.toggle('show');
                document.addEventListener('click', (e) => {
                    if (!e.target.closest('.theme-menu')) {
                        dropdown.classList.remove('show');
                    }
                }, { once: true });
            },

            setTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('colorTheme', theme);
                const icons = {
                    'light': 'üåû', 'sepia': 'üìú', 'dark': 'üåô',
                    'nord': '‚ùÑÔ∏è', 'solarized': 'üåÉ', 'dracula': 'üßõ',
                    'ocean-light': 'üåä', 'ocean-dark': 'üåä',
                    'forest-light': 'üå≤', 'forest-dark': 'üå≤',
                    'sunset-light': 'üåÖ', 'sunset-dark': 'üåÜ'
                };
                const icon = document.querySelector('.theme-icon');
                if (icon) icon.textContent = icons[theme] || 'üåô';
                const dropdown = document.getElementById('theme-dropdown');
                if (dropdown) dropdown.classList.remove('show');
                document.querySelectorAll('.theme-dot-btn').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.theme === theme);
                });
            }
        };

        // Initialize i18n and theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            ThemeMenu.init();

            // Use i18n system (same as dashboard)
            i18n.init();

            // Apply saved language
            const savedLanguage = localStorage.getItem('language') || 'de';
            i18n.setLanguage(savedLanguage);
        });
    </script>
</body>
</html>
